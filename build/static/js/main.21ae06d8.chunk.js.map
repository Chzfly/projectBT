{"version":3,"sources":["routes/home/components/TopBar.jsx","routes/home/components/Slide.jsx","routes/home/components/MovieItem.jsx","components/TabMenu.jsx","components/RenderToBody.jsx","helpers/request.js","routes/home/components/CityLayer.jsx","routes/home/Index.jsx","components/LineLink.jsx","routes/user/Index.jsx","routes/detail/components/BaseInfo.jsx","components/Star.jsx","routes/detail/components/ScoreSummary.jsx","components/CollapsibleText.jsx","routes/detail/components/Artist.jsx","routes/detail/components/ScoreDistribute.jsx","routes/detail/components/TagList.jsx","routes/detail/components/CommentList.jsx","routes/detail/components/Comment.jsx","routes/detail/components/ImageSlider.jsx","routes/detail/Index.jsx","routes/seat/reducers/index.js","routes/seat/components/MovieInfo.jsx","routes/seat/actions/index.js","routes/seat/components/SeatSelected.jsx","routes/seat/components/SeatSelector.jsx","routes/seat/Index.jsx","App.js","serviceWorker.js","index.js"],"names":["TopBar","_ref","city","showCityLayer","react_default","a","createElement","className","onClick","PosterSlide","data","lib_default","dots","autoplay","dotsClass","map","item","key","image","src","alt","MovieItem","poster","name","score","director","actor","tags","index","TabMenu","current","Link","to","concat","RenderToBody","renderToLayer","ReactDOM","render","_this","props","children","popup","unrenderToLayer","unmountComponentAtNode","document","body","removeChild","this","appendChild","Component","request","_x","_x2","request_ref","apply","arguments","_callee","path","opt","url","options","response","_ref2","regenerator_default","wrap","_context","prev","next","Object","assign","method","fetch","sent","json","status","abrupt","t0","stop","CityLayer","state","hot","all","getData","setState","_this2","_this$props","onClose","onSelect","alphabetKeys","keys","id","cityCode","regionName","alpha","href","Home","movie","cityLayerVisible","hideCityLayer","changeCity","_this$state","home_components_TopBar","MovieItem_MovieItem","TabMenu_TabMenu","components_RenderToBody","home_components_CityLayer","LineLink","title","extra","Index","LineLink_LineLink","BaseInfo","style","backgroundImage","handler","Star","value","_ref$size","size","bgSize","width","height","backgroundSize","ScoreSummary","Star_Star","CollapsibleText","collapsed","isNeedCollapse","toggleStatus","prevState","dom","findDOMNode","clientHeight","dynamic_classname","maxH","maxHeight","defaultProps","Artist","artist","job","ScoreDistribute","TagList","currentTag","changeTag","text","v","count","CommentList","toggleZan","CollapsibleText_CollapsibleText","content","time","isZan","zan","Comment","list","tag","objectSpread","filterComment","filter","ScoreDistribute_ScoreDistribute","TagList_TagList","CommentList_CommentList","ImageSlider","changeIndex","settings","afterChange","Detail","showImage","toggleShowImage","window","history","back","BaseInfo_BaseInfo","ScoreSummary_ScoreSummary","Artist_Artist","Comment_Comment","ImageSlider_ImageSlider","seats","length","undefined","selectSeat","action","type","toConsumableArray","seat","MovieInfo","removeSeat","connect","dispatch","rowIndex","colIndex","SEAT_WIDTH","SEAT_HEIGHT","ratio","devicePixelRatio","DRAW_SEAT_WIDTH","DRAW_SEAT_HEIGHT","lastSeat","CANVAS_WIDTH","CANVAS_HEIGHT","DRAW_CANVAS_WIDTH","DRAW_CANVAS_HEIGHT","SeatSelector","drawAllSeat","len","i","_data$i","isSold","xPos","yPos","offsetLeft","offsetTop","ctx","drawImage","soldImage","emptyImage","drawSelectSeat","_selectSeat$i","selectImage","fillText","clickSeat","e","offset","refs","canvas","getBoundingClientRect","pageX","left","pageY","top","Math","ceil","find","findIndex","alert","addSeat","getContext","font","fillStyle","textAlign","Image","loadCallback","onload","clearRect","_this3","ref","store","createStore","seatSelect","es","MovieInfo_MovieInfo","components_SeatSelector","components_SeatSelected","App","BrowserRouter","Switch","Route","exact","component","User","Seat","Boolean","location","hostname","match","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.21ae06d8.chunk.js","sourcesContent":["import React from 'react';\nimport './TopBar.css';\nimport PropTypes from 'prop-types';\n\n/**\n * BEM\n * block\n * element\n * modifier\n */\nconst TopBar = ({city, showCityLayer}) => {\n\treturn (\n\t\t<div className=\"topBar\">\n\t\t\t<div className=\"topBar__city\" onClick={showCityLayer}>{city}</div>\n\t\t\t<div className=\"topBar__search\"></div>\n\t\t\t<div className=\"topBar__scan\"></div>\n\t\t</div>\n\t);\n};\n\nTopBar.propTypes = {\n\tcity: PropTypes.string.isRequired,\n\tshowCityLayer: PropTypes.func.isRequired\n};\n\nexport default TopBar;\n","import React from 'react';\nimport Slider from 'react-slick';\nimport PropTypes from 'prop-types';\nimport './Slide.css';\n\nexport default function PosterSlide({data}) {\n\tvar settings = {\n\t\tdots: true,\n\t\tautoplay: true,\n\t\tclassName: 'posterSlide',\n\t\tdotsClass: 'posterSlide__dots'\n\t};\n\treturn (\n\t\t<Slider {...settings}>\n\t\t\t{\n\t\t\t\tdata.map(item =>\n\t\t\t\t\t<div key={item.image}>\n\t\t\t\t\t\t<img className=\"posterSlide__image\" src={item.image} alt=\"\"/>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</Slider>\n\t);\n}\nPosterSlide.propTypes = {\n\tdata: PropTypes.array.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './MovieItem.css';\n\nexport default function MovieItem({data}) {\n\treturn (\n\t\t<div className=\"movieItem\">\n\t\t\t<div className=\"movieItem__poster\">\n\t\t\t\t<img src={data.poster} alt=\"\"/>\n\t\t\t</div>\n\t\t\t<div className=\"movieItem__detail\">\n\t\t\t\t<div className=\"movieItem__name\">{data.name}</div>\n\t\t\t\t<div className=\"movieItem__score\">观众评分：<span>{data.score}</span></div>\n\t\t\t\t<div className=\"movieItem__director\">导演：{data.director}</div>\n\t\t\t\t{data.actor && <div className=\"movieItem__actor\">主演：{data.actor}</div>}\n\t\t\t\t<div className=\"movieItem__tag\">\n\t\t\t\t\t{\n\t\t\t\t\t\tdata.tags.map((item, index) => {\n\t\t\t\t\t\t\tif(index % 2){\n\t\t\t\t\t\t\t\treturn <span key={item} className=\"tTag tTag--blue\">{item}</span>;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn <span key={item} className=\"tTag tTag--red\">{item}</span>;\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"movieItem__btn\">\n\t\t\t\t<button className=\"tBtn\">购票</button>\n\t\t\t\t<span className=\"movieItem__price\">9.9</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nMovieItem.propTypes = {\n\tdata: PropTypes.object.isRequired\n};\n","import React from 'react';\nimport './TabMenu.css';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\n\nexport default function TabMenu({current}) {\n\treturn (\n\t\t<div className=\"tabMenu\">\n\t\t\t<Link to=\"/\" className={`tabMenu__btn ${current === 'movie' && 'tabMenu__btn--active'}`}>\n\t\t\t\t<i className=\"tabMenu__icon tabMenu__icon--movie\"></i>\n\t\t\t\t<span className=\"tabMenu__text\">电影</span>\n\t\t\t</Link>\n\t\t\t<Link to=\"/user\" className={`tabMenu__btn ${current === 'user' && 'tabMenu__btn--active'}`}>\n\t\t\t\t<i className=\"tabMenu__icon tabMenu__icon--user\"></i>\n\t\t\t\t<span className=\"tabMenu__text\">我的</span>\n\t\t\t</Link>\n\t\t</div>\n\t);\n}\n\nTabMenu.propTypes = {\n\tcurrent: PropTypes.string.isRequired\n};\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nclass RenderToBody extends Component {\n  componentDidMount() {\n    this.popup = document.createElement('div');\n    document.body.appendChild(this.popup);\n    this.renderToLayer();\n  }\n\n  componentDidUpdate() {\n    this.renderToLayer();\n  }\n\n  componentWillUnmount() {\n    this.unrenderToLayer();\n  }\n\n  renderToLayer = () => {\n    ReactDOM.render(\n      this.props.children,\n      this.popup\n    );\n  }\n\n  unrenderToLayer = () => {\n    if (!this.popup) {\n      return;\n    }\n\n    ReactDOM.unmountComponentAtNode(this.popup);\n    document.body.removeChild(this.popup);\n    this.popup = null;\n  }\n\n  render() {\n    return <div />;\n  }\n}\n\nRenderToBody.propTypes = {\n  children: PropTypes.any\n};\n\nexport default RenderToBody;\n","export default async function (path, opt){\n\tconst url = 'https://www.easy-mock.com/mock/5c03d7583b23d255f07eca1b' + path;\n\tconst options = Object.assign({\n\t\tmethod: 'GET'\n\t}, opt);\n\n\ttry{\n\t\tconst response = await fetch(url, options);\n\t\tconst {data, status} = await response.json();\n\t\tif(status === 0){\n\t\t\treturn data;\n\t\t}else{\n\t\t\t//错误处理\n\t\t}\n\t}catch (e){\n\t\t//错误处理\n\t\t//提示，弹窗\n\t}\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './CityLayer.css';\nimport request from '../../../helpers/request';\n\n\n\nclass CityLayer extends Component {\n\tstate = {\n\t\thot: [],\n\t\tall: {}\n\t}\n\n\tgetData = async () => {\n\t\tconst data = await request('/city');\n\t\tconst {hot, all} = data;\n\n\t\tthis.setState({\n\t\t\thot,\n\t\t\tall\n\t\t});\n\t}\n\n\tcomponentWillMount(){\n\t\tthis.getData();\n\t}\n\trender() {\n\n\t\tconst {onClose, onSelect} = this.props;\n\t\tconst alphabetKeys = Object.keys(this.state.all);\n\t\treturn (\n\t\t\t<div className=\"cityLayer\">\n\t\t\t\t<div className=\"cityLayer__title\">\n\t\t\t\t\t<div className=\"cityLayer__close\" onClick={onClose} >关闭</div>\n\t\t\t\t\t选择城市\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cityLayer__content\">\n\t\t\t\t\t<div className=\"cityBlock\" id=\"定位\">\n\t\t\t\t\t\t<div className=\"cityBlock__label\">定位城市</div>\n\t\t\t\t\t\t<div className=\"cityBlock__wrap\">\n\t\t\t\t\t\t\t<div className=\"cityBlock__item\">杭州</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"cityBlock\" id=\"热门\">\n\t\t\t\t\t\t<div className=\"cityBlock__label\">热门城市</div>\n\t\t\t\t\t\t<div className=\"cityBlock__wrap\">\n\t\t\t\t\t\t\t{this.state.hot.map(hot => <div\n\t\t\t\t\t\t\t\tkey={hot.cityCode}\n\t\t\t\t\t\t\t\tclassName=\"cityBlock__item\"\n\t\t\t\t\t\t\t\tonClick={() => onSelect(hot.regionName)}\n\t\t\t\t\t\t\t>{hot.regionName}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{alphabetKeys.map(alpha => {\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<div key={alpha} className=\"cityList\" id={alpha}>\n\t\t\t\t\t\t\t\t<div className=\"cityList__label\">{alpha}</div>\n\t\t\t\t\t\t\t\t<ul className=\"cityList__wrap\">\n\t\t\t\t\t\t\t\t\t{this.state.all[alpha].map(city => <li\n\t\t\t\t\t\t\t\t\t\tkey={city.cityCode}\n\t\t\t\t\t\t\t\t\t\tclassName=\"cityList__item\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => onSelect(city.regionName)}\n\t\t\t\t\t\t\t\t\t>{city.regionName}</li>)}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cityLayer__index cityIndex\">\n\t\t\t\t\t<ul className=\"cityIndex__list\">\n\t\t\t\t\t\t<li className=\"cityIndex__item\"><a href=\"#定位\">定位</a></li>\n\t\t\t\t\t\t<li className=\"cityIndex__item\"><a href=\"#热门\">热门</a></li>\n\t\t\t\t\t\t{alphabetKeys.map(alpha => <li key={alpha} className=\"cityIndex__item\"><a href={`#${alpha}`}>{alpha}</a></li>)}\n\t\t\t\t\t\t<li className=\"cityIndex__item\"><a href=\"#A\">A</a></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nCityLayer.propTypes = {\n\tonClose: PropTypes.func.isRequired,\n\tonSelect: PropTypes.func.isRequired\n};\n\nexport default CityLayer;\n","import React, { Component } from 'react';\n// import PropTypes from 'prop-types'\nimport './Index.css';\nimport TopBar from './components/TopBar.jsx';\nimport Slider from './components/Slide.jsx';\nimport MovieItem from './components/MovieItem';\nimport TabMenu from '../../components/TabMenu.jsx';\nimport RenderToBody from '../../components/RenderToBody.jsx';\nimport CityLayer from './components/CityLayer.jsx';\nimport request from '../../helpers/request.js';\nimport {Link} from 'react-router-dom';\n\nexport default class Home extends Component {\n\tstate = {\n\t\tcity: '', //当前城市\n\t\tposter: [], //slide 海报\n\t\tmovie: [], //当前热映电影\n\t\tcityLayerVisible: false //浮层是否展现\n\t}\n\n\tshowCityLayer = () => {\n\t\tthis.setState({\n\t\t\tcityLayerVisible: true\n\t\t});\n\t}\n\n\thideCityLayer = () => {\n\t\tthis.setState({\n\t\t\tcityLayerVisible: false\n\t\t});\n\t}\n\tchangeCity = (city) => {\n\t\tthis.setState({city});\n\t\tthis.hideCityLayer();\n\t}\n\n\tcomponentWillMount(){\n\t\tthis.getData();\n\t}\n\n\tgetData = async () => {\n\t\tconst data = await request('/index');\n\t\tconst {city, poster, movie} = data;\n\t\tthis.setState({\n\t\t\tcity,\n\t\t\tposter,\n\t\t\tmovie\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {city, poster, movie, cityLayerVisible} = this.state;\n\t\treturn (\n\t\t\t<div className=\"home\">\n\t\t\t\t<TopBar city={city} showCityLayer={this.showCityLayer}></TopBar>\n\t\t\t\t<div className=\"home__slide\">\n\t\t\t\t\t<div className=\"home__slideWrap\">\n\t\t\t\t\t\t<Slider data={poster}></Slider>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<ul className=\"home__content\">\n\t\t\t\t\t{movie.map(item => <Link to=\"detail\" key={item.name}><li key={item.name}><MovieItem data={item}></MovieItem></li></Link>)}\n\t\t\t\t</ul>\n\t\t\t\t<TabMenu current=\"movie\"></TabMenu>\n\t\t\t\t{cityLayerVisible && <RenderToBody>\n\t\t\t\t\t\t<CityLayer\n\t\t\t\t\t\t\tonClose={this.hideCityLayer}\n\t\t\t\t\t\t\tonSelect={this.changeCity}\n\t\t\t\t\t\t></CityLayer>\n\t\t\t\t\t</RenderToBody>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n","import React from 'react';\nimport './LineLink.scss';\nimport PropTypes from 'prop-types';\n\n/******\n**  author: 陈洪泽\n**  desc: 全局组件，固定样式，单行标签可跳转\n*******/\n\nexport default function LineLink({href, title, extra}) {\n\treturn (\n\t\t<a href={href} className=\"lineLink\">\n\t\t\t<div className=\"lineLink__title\">{title}</div>\n\t\t\t<div className=\"lineLink__extra\">{extra}</div>\n\t\t\t<i className=\"lineLink__arrow\"></i>\n\t\t</a>\n\t);\n}\n\nLineLink.propTypes = {\n\thref: PropTypes.string.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\textra: PropTypes.string\n};\n","import React from 'react';\nimport './Index.scss';\nimport LineLink from '../../components/LineLink';\nimport TabMenu from '../../components/TabMenu';\n\nexport default function Index() {\n\treturn (\n\t\t<div className=\"user\">\n\t\t\t<div className=\"user__top\">\n\t\t\t\t<div className=\"tOperator\">\n\t\t\t\t\t<div className=\"tOperator__icon tOperator__icon--setting\"></div>\n\t\t\t\t\t<div className=\"tOperator__icon tOperator__icon--message\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"user__info\">\n\t\t\t\t\t<div className=\"user__avatar\">\n\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"user__detail\">\n\t\t\t\t\t\t<div className=\"user__name\">陈洪泽</div>\n\t\t\t\t\t\t<span className=\"user__fellow\">关注 50</span>\n\t\t\t\t\t\t<span className=\"user__fans\">粉丝 1250</span>\n\t\t\t\t\t\t<div className=\"user__level\">钻石会员</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"user__content\">\n\t\t\t\t<LineLink title=\"收藏的电影\" extra=\"20\" href=\"javascript:void(0)\"></LineLink>\n\t\t\t\t<LineLink title=\"看过的电影\" extra=\"52\" href=\"javascript:void(0)\"></LineLink>\n\t\t\t\t<LineLink title=\"预约的电影\" extra=\"1\" href=\"javascript:void(0)\"></LineLink>\n\t\t\t</div>\n\t\t\t<TabMenu current=\"user\"></TabMenu>\n\t\t</div>\n\t);\n}\n","import React, { Component } from 'react';\nimport './BaseInfo.scss';\nimport PropTypes from 'prop-types';\n\n/******\n**  author: Chenhongze\n**  time: 2018,12,06 11:36:57\n**  desc: 电影详情页 基础信息组件 展示电影名 别名 时长等信息\n******/\n\nexport default class BaseInfo extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"baseInfo\">\n\t\t\t\t<div className=\"baseInfo__detail\">\n\t\t\t\t\t<h3 className=\"baseInfo__name\">唐人街探案2</h3>\n\t\t\t\t\t<div className=\"baseInfo__subName\">Detective Chinatown 2</div>\n\t\t\t\t\t<div className=\"baseInfo__other\">喜剧 / 动作 / 剧情</div>\n\t\t\t\t\t<div className=\"baseInfo__other\">中国大陆 | 130分钟</div>\n\t\t\t\t\t<div className=\"baseInfo__other\">2018年2月大陆上映</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"baseInfo__poster\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundImage: \"url('/source/movie/asset4.jpeg')\"\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.props.handler();\n\t\t\t\t\t}}\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nBaseInfo.propTypes = {\n\thandler: PropTypes.func.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Star.scss';\n/******\n**  author: Chenhongze\n**  time: 2018,12,06 13:32:44\n**  desc: 全局星星组件，根据评分显示对应的星星，params：  value： 分数 十分制 size： 尺寸\n******/\n\nexport default function Star({value, size = 15}) {\n\tconst bgSize = `${size}px`;\n\treturn (\n\t\t<div className=\"star\" style={{\n\t\t\twidth: size * 5,\n\t\t\theight: size,\n\t\t\tbackgroundSize: bgSize\n\t\t}}>\n\t\t\t<div className=\"star__cover\" style={{\n\t\t\t\twidth: `${value * 10}%`,\n\t\t\t\theight: '100%',\n\t\t\t\tbackgroundSize: bgSize\n\t\t\t}}></div>\n\t\t</div>\n\t);\n}\nStar.propTypes = {\n\tvalue: PropTypes.number.isRequired,\n\tsize: PropTypes.number\n};\n","import React from 'react';\nimport './ScoreSummary.scss';\nimport Star from '../../../components/Star';\n\n/******\n**  author: Chenhongze\n**  time: 2018,12,06 11:49:34\n**  desc: 分数概览组件、展示电影评分等信息\n******/\n\nexport default function ScoreSummary() {\n\treturn (\n\t\t<div className=\"scoreSummary\">\n\t\t\t<div className=\"scoreSummaryTop\">\n\t\t\t\t<div className=\"summaryItem\">\n\t\t\t\t\t<div className=\"summaryItem__value\">9.3<Star value={9.3}></Star></div>\n\t\t\t\t\t<div className=\"summaryItem__title\">观众评分32424人</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"summaryItem\">\n\t\t\t\t\t<div className=\"summaryItem__value\">80%</div>\n\t\t\t\t\t<div className=\"summaryItem__title\">V淘推荐度</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"summaryItem\">\n\t\t\t\t\t<div className=\"summaryItem__value\">58650</div>\n\t\t\t\t\t<div className=\"summaryItem__title\">想看人数</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"scoreSummaryBtn\">\n\t\t\t\t<button className=\"scoreSummaryBtn__item scoreSummaryBtn__item--want\"><i></i>想看</button>\n\t\t\t\t<button className=\"scoreSummaryBtn__item scoreSummaryBtn__item--seen\"><i></i>看过</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './CollapsibleText.scss';\n\n\n/******\n**  author: 陈洪泽\n**  time: 2018/12/06 17:00:38\n**  desc: 全局组件——可折叠文本框\t默认最大高度是84px，也可以传入自定义高度height\n*******/\n\n\n\nexport default class CollapsibleText extends Component {\n\tstate={\n\t\tcollapsed: false,\n\t\tisNeedCollapse: false\n\t}\n\tstatic defaultProps = {\n\t\theight: 84\n\t}\n\ttoggleStatus = () => {\n\t\tif(this.state.isNeedCollapse){\n\t\t\tthis.setState((prevState) => ({\n\t\t\t\tcollapsed: !prevState.collapsed\n\t\t\t}));\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tconst dom = ReactDOM.findDOMNode(this);\n\t\tconst value = this.props.height;\n\t\tif(dom.clientHeight > value){\n\t\t\tthis.setState({\n\t\t\t\tcollapsed: true,\n\t\t\t\tisNeedCollapse: true\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {collapsed} = this.state;\n\t\tconst dynamic_classname = collapsed ? 'collapsibleText__collapsed' : '';\n\t\tconst maxH = collapsed ? this.props.height : 'none';\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`collapsibleText ${dynamic_classname}`}\n\t\t\t\tstyle={{\n\t\t\t\t\tmaxHeight: maxH\n\t\t\t\t}}\n\t\t\t\tonClick={this.toggleStatus}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t\t{collapsed && <div className=\"collapsibleText__label\">展开</div>}\n\t\t\t</div>\n\t\t);\n\t}\n}\nCollapsibleText.propTypes = {\n\tchildren: PropTypes.any,\n\theight: PropTypes.number\n};\n","import React from 'react';\nimport './Artist.scss';\n/******\n**  author: 陈洪泽\n**  desc: 演职人员列表组件 横向滚动\n*******/\n\nexport default function Artist({artist}) {\n\treturn (\n\t\t<div className=\"mArtist\">\n\t\t\t<ul className=\"mArtist__list\">\n\t\t\t\t{artist.map((item) => (\n\t\t\t\t\t<li key={item.image}>\n\t\t\t\t\t\t<a href=\"javascript:void(0)\" className=\"artistInfo\">\n\t\t\t\t\t\t\t<div className=\"artistInfo__image\" style={{\n\t\t\t\t\t\t\t\tbackgroundImage: `url(${item.image})`\n\t\t\t\t\t\t\t}}></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<dl className=\"artistInfo__name\">{item.name}</dl>\n\t\t\t\t\t\t\t\t<dl className=\"artistInfo__job\">{item.job}</dl>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n","import React, { Component } from 'react';\nimport './ScoreDistribute.scss';\nimport Star from '../../../components/Star';\n\n/******\n**  author: 陈洪泽\n**  desc: 评分分布组件 flex 左右布局\n*******/\n\nexport default class ScoreDistribute extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"scoreDistribute\">\n\t\t\t\t<div className=\"scoreDistribute__left\">\n\t\t\t\t\t<div className=\"scoreDistribute__left--score\">9.3</div>\n\t\t\t\t\t<div className=\"scoreDistribute__left--total\">295,294人评 <i></i></div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"scoreDistribute__right\">\n\t\t\t\t\t<div className=\"scoreDistribute__star\">\n\t\t\t\t\t\t<Star value={10} size={8}></Star>\n\t\t\t\t\t\t<div className=\"scoreDistribute__range\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"scoreDistribute__range--cover\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: '100%'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"scoreDistribute__star\">\n\t\t\t\t\t\t<Star value={8} size={8}></Star>\n\t\t\t\t\t\t<div className=\"scoreDistribute__range\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"scoreDistribute__range--cover\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: '80%'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"scoreDistribute__star\">\n\t\t\t\t\t\t<Star value={6} size={8}></Star>\n\t\t\t\t\t\t<div className=\"scoreDistribute__range\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"scoreDistribute__range--cover\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: '60%'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"scoreDistribute__star\">\n\t\t\t\t\t\t<Star value={4} size={8}></Star>\n\t\t\t\t\t\t<div className=\"scoreDistribute__range\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"scoreDistribute__range--cover\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: '40%'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"scoreDistribute__star\">\n\t\t\t\t\t\t<Star value={5} size={8}></Star>\n\t\t\t\t\t\t<div className=\"scoreDistribute__range\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"scoreDistribute__range--cover\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: '50%'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport './TagList.scss';\nimport PropTypes from 'prop-types';\n\n/******\n**  author: 陈洪泽\n**  desc: 评论区标签组件\n*******/\n\n\nexport default function TagList({tags, currentTag, changeTag}) {\n\t//对切换标签函数进行加工，点击当前选中标签不进行数据刷新\n\tconst myChangeTag = v => {\n\t\tif(v !== currentTag){\n\t\t\tchangeTag(v);\n\t\t}\n\t};\n\treturn (\n\t\t<div className=\"tagList\">\n\t\t\t{tags.map(item => <span\n\t\t\t\tkey={item.text}\n\t\t\t\tclassName={`tagList__item ${item.text === currentTag ? 'tagList__item--active' : ''}`}\n\t\t\t\tonClick={() => myChangeTag(item.text)}\n\t\t\t>{item.text} {item.count}</span>)}\n\t\t</div>\n\t);\n}\n\nTagList.propTypes = {\n\ttags: PropTypes.array.isRequired,\n\tcurrentTag: PropTypes.string.isRequired,\n\tchangeTag: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport './CommentList.scss';\nimport Star from '../../../components/Star';\nimport CollapsibleText from '../../../components/CollapsibleText';\nimport PropTypes from 'prop-types';\n\nexport default function CommentList({data, toggleZan}) {\n\treturn (\n\t\t<div className=\"commentList\">\n\t\t\t{data.map(item => (\n\t\t\t\t<div key={item.id} className=\"commentItem\">\n\t\t\t\t\t<div className=\"commentItem__user\">\n\t\t\t\t\t\t<div className=\"commentItem__user--avatar\" style={{backgroundImage: `url('/source/default-avatar.jpg')`}}></div>\n\t\t\t\t\t\t<div className=\"commentItem__user--right\">\n\t\t\t\t\t\t\t<div className=\"commentItem__user--name\">{item.name}</div>\n\t\t\t\t\t\t\t<div className=\"commentItem__user--score\">\n\t\t\t\t\t\t\t\t<Star value={item.score}></Star><span className=\"commentItem__user--value\">{item.score}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"commentItem__content\">\n\t\t\t\t\t\t<CollapsibleText>\n\t\t\t\t\t\t{item.content}\n\t\t\t\t\t\t</CollapsibleText>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"commentItem__bottom\">\n\t\t\t\t\t\t<div className=\"commentItem__bottom--time\">{item.time}</div>\n\t\t\t\t\t\t<div className={`commentItem__bottom--zan ${item.isZan && 'active'}`}>\n\t\t\t\t\t\t\t<i onClick={() => {\n\t\t\t\t\t\t\t\ttoggleZan(item.id);\n\t\t\t\t\t\t\t}}></i>\n\t\t\t\t\t\t{item.zan}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\n\t\t</div>\n\t);\n}\n\nCommentList.propTypes = {\n\tdata: PropTypes.array.isRequired,\n\ttoggleZan: PropTypes.func.isRequired\n};\n","import React, { Component } from 'react';\nimport ScoreDistribute from './ScoreDistribute';\nimport TagList from './TagList';\nimport './Comment.scss';\nimport CommentList from './CommentList';\nimport request from '../../../helpers/request';\n\n/******\n**  author: 陈洪泽\n**  desc: 评论区整体包括评分分布、标签、具体评论列表\n*******/\n\n\nexport default class Comment extends Component {\n\tstate = {\n\t\ttags: [],\n\t\tlist: [],\n\t\tcurrentTag: ''\n\t}\n\n\t//请求数据\n\tgetData = async() => {\n\t\tconst {list, tags} = await request('/comment');\n\t\tthis.setState({\n\t\t\ttags,\n\t\t\tlist,\n\t\t\tcurrentTag: tags[0] ? tags[0].text : ''\n\t\t});\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.getData();\n\t}\n\n\t//切换tag\n\tchangeTag = tag => {\n\t\tthis.setState({\n\t\t\tcurrentTag: tag\n\t\t});\n\t}\n\t//点赞或者取消,改变isZan 和 zan 两个值\n\ttoggleZan = (id) => {\n\t\tthis.setState((prevState) => ({\n\t\t\tlist: prevState.list.map(item => item.id === id ? {...item, isZan: !item.isZan, zan: item.isZan ? item.zan - 1 : item.zan + 1} : item)\n\t\t}));\n\t}\n\n\trender() {\n\t\tconst{tags, list, currentTag} = this.state;\n\t\tconst filterComment = list.filter(item => item.tag === currentTag);\n\t\treturn (\n\t\t\t<div className=\"comment\">\n\t\t\t\t<ScoreDistribute></ScoreDistribute>\n\t\t\t\t<div className=\"comment__tagList\">\n\t\t\t\t\t<TagList tags={tags} currentTag={currentTag} changeTag={this.changeTag}></TagList>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"comment__commentList\">\n\t\t\t\t\t<CommentList data={filterComment} toggleZan={this.toggleZan}></CommentList>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport Slider from 'react-slick';\nimport './ImageSlider.scss';\nimport PropTypes from 'prop-types';\n\n/******\n**  author: 陈洪泽\n**  desc: 图片展示浮层\n*******/\n\nexport default class ImageSlider extends Component {\n\tstate = {\n\t\tindex: 1\n\t}\n\tchangeIndex = index => {\n\t\tthis.setState({\n\t\t\tindex: index + 1\n\t\t});\n\t}\n\trender() {\n\t\t//Slider组件的设置\n\t\tconst settings = {\n\t\t\tclassName: \"imageSlider__content\",\n\t\t\tafterChange: this.changeIndex\n\t\t};\n\t\treturn (\n\t\t\t<div className=\"imageSlider\" onClick={() => {this.props.handler();}}>\n\t\t\t\t<div className=\"imageSlider__index\">{this.state.index} / 6</div>\n\t\t\t\t<Slider {...settings}>\n\t\t\t\t\t<div className=\"imageSlider__item\">\n\t\t\t\t\t\t<div className=\"imageSlider__img\" style={{\"backgroundImage\": \"url('/source/image/asset1.jpeg')\"}}>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"imageSlider__item\">\n\t\t\t\t\t\t<div className=\"imageSlider__img\" style={{\"backgroundImage\": \"url('/source/image/asset2.jpeg')\"}}>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"imageSlider__item\">\n\t\t\t\t\t\t<div className=\"imageSlider__img\" style={{\"backgroundImage\": \"url('/source/image/asset3.jpeg')\"}}>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"imageSlider__item\">\n\t\t\t\t\t\t<div className=\"imageSlider__img\" style={{\"backgroundImage\": \"url('/source/image/asset4.jpeg')\"}}>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"imageSlider__item\">\n\t\t\t\t\t\t<div className=\"imageSlider__img\" style={{\"backgroundImage\": \"url('/source/image/asset5.jpeg')\"}}>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"imageSlider__item\">\n\t\t\t\t\t\t<div className=\"imageSlider__img\" style={{\"backgroundImage\": \"url('/source/image/asset6.jpeg')\"}}>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Slider>\n\t\t\t</div>\n\t\t);\n\t}\n}\nImageSlider.propTypes = {\n\thandler:  PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport './Index.scss';\nimport BaseInfo from './components/BaseInfo';\nimport ScoreSummary from './components/ScoreSummary';\nimport CollapsibleText from '../../components/CollapsibleText';\nimport Artist from './components/Artist';\nimport request from '../../helpers/request';\nimport Comment from './components/Comment';\nimport LineLink from '../../components/LineLink';\nimport {Link} from 'react-router-dom';\nimport ImageSlider from './components/ImageSlider';\n\n/******\n**  author: Chenhongze\n**  desc: 电影详情页根组件\n******/\n\nexport default class Detail extends Component {\n\tstate={\n\t\tartist: [],\n\t\tshowImage: false\n\t}\n\t//定义请求数据函数\n\tgetData = async () => {\n\t\tconst data = await request('/artist');\n\t\tthis.setState({\n\t\t\tartist: data\n\t\t});\n\t}\n\tcomponentDidMount(){\n\t\tthis.getData();\n\t}\n\n\ttoggleShowImage = () => {\n\t\tthis.setState((prevState) => ({\n\t\t\tshowImage: !prevState.showImage\n\t\t}));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"detail\">\n\t\t\t\t<div className=\"detail__top\">\n\t\t\t\t\t<div className=\"tOperator\">\n\t\t\t\t\t\t<div className=\"tOperator__icon tOperator__icon--back\" onClick={() => {window.history.back();}}></div>\n\t\t\t\t\t\t<div className=\"tOperator__icon tOperator__icon--share\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<BaseInfo handler={this.toggleShowImage}></BaseInfo>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"detail__content\">\n\t\t\t\t\t<div className=\"detail__module\"><ScoreSummary></ScoreSummary></div>\n\t\t\t\t\t<div className=\"detail__module\">\n\t\t\t\t\t\t<CollapsibleText height={84}>\n\t\t\t\t\t\t\t<div className=\"detail__overview\">\n\t\t\t\t\t\t\t唐仁（王宝强 饰）为巨额奖金欺骗秦风（刘昊然 饰）到纽约参加世界名侦探大赛，然而随着和世界各国侦探们啼笑皆非的较量，两人却发现了隐藏在这次挑战背后的更大秘,于是开启了惊心动魄的破案之行，随着秦风的推理揭秘，真相渐渐浮出水面。\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</CollapsibleText>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"detail__module\">\n\t\t\t\t\t\t<h3 className=\"detail__moduleTitle\">演职人员</h3>\n\t\t\t\t\t\t<Artist artist={this.state.artist}></Artist>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"detail__module\">\n\t\t\t\t\t\t<h3 className=\"detail__moduleTitle\">观众热评</h3>\n\t\t\t\t\t\t<Comment></Comment>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"detail__module\">\n\t\t\t\t\t\t<h3 className=\"detail__moduleTitle\">影片资料</h3>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<LineLink href=\"javascript:void(0)\" title=\"幕后花絮\"></LineLink>\n\t\t\t\t\t\t\t<LineLink href=\"javascript:void(0)\" title='台词精选'></LineLink>\n\t\t\t\t\t\t\t<LineLink href=\"javascript:void(0)\" title='出品发行'></LineLink>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Link to=\"/seat\" className=\"detail__buyBtn\">选座购票</Link>\n\t\t\t\t{this.state.showImage && <ImageSlider handler={this.toggleShowImage}></ImageSlider>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","const seats = (state = {selectSeat: []}, action) => {\n\tswitch(action.type){\n\t\tcase 'ADD_SEAT':\n\t\t\treturn{\n\t\t\t\tselectSeat: [\n\t\t\t\t\t...state.selectSeat,\n\t\t\t\t\taction.seat\n\t\t\t\t]\n\t\t\t};\n\t\tcase 'REMOVE_SEAT':\n\t\t\treturn{\n\t\t\t\tselectSeat: state.selectSeat.filter(item => item.id !== action.id)\n\t\t\t};\n\t\tdefault: return state;\n\t}\n};\nexport default seats;\n","import React from 'react';\nimport './MovieInfo.scss';\n\nexport default function MovieInfo() {\n\treturn (\n\t\t<div className=\"seatMovieInfo\">\n\t\t\t<div className=\"seatMovieInfo__name\">唐人街探案2</div>\n\t\t\t<div className=\"seatMovieInfo__time\">今天 05-01 14:30 (国语2D)</div>\n\t\t</div>\n\t);\n}\n","export const addSeat = seat => {\n\treturn{\n\t\ttype: 'ADD_SEAT',\n\t\tseat\n\t};\n};\nexport const removeSeat = id => {\n\treturn{\n\t\ttype: 'REMOVE_SEAT',\n\t\tid\n\t};\n};\n","import React from 'react';\nimport './SeatSelected.scss';\nimport {connect} from 'react-redux';\nimport {removeSeat} from '../actions';\n\nfunction SeatSelected({selectSeat, removeSeat}) {\n\tif(!selectSeat.length){\n\t\treturn null;\n\t}\n\treturn (\n\t\t<div className=\"seatSelected\">\n\t\t\t<div className=\"seatSelected__wrap\">\n\t\t\t\t<ul className=\"seatSelected__list\">\n\t\t\t\t\t{\n\t\t\t\t\t\tselectSeat.map(item => (\n\t\t\t\t\t\t\t<li key={item.id} className=\"seatSelected__item\">\n\t\t\t\t\t\t\t\t<div className=\"seatSelected__item--detail\">\n\t\t\t\t\t\t\t\t\t<div className=\"seatSelected__item--pos\">{item.rowIndex}排{item.colIndex}座</div>\n\t\t\t\t\t\t\t\t\t<div className=\"seatSelected__item--price\"><i className=\"seatSelected__item--tag\">卡</i>33元</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"seatSelected__item--close\" onClick={() => {\n\t\t\t\t\t\t\t\t\tremoveSeat(item.id);\n\t\t\t\t\t\t\t\t}}></div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div className=\"seatSelected__buy\">{selectSeat.length * 33}元 确认选座</div>\n\t\t</div>\n\t);\n}\nconst mapStateToProps = state => {\n\treturn{\n\t\tselectSeat: state.selectSeat\n\t};\n};\n\nconst mapDispatchToProps = dispatch => {\n\treturn{\n\t\tremoveSeat: id => {\n\t\t\tdispatch(removeSeat(id));\n\t\t}\n\t};\n};\nexport default connect (mapStateToProps, mapDispatchToProps)(SeatSelected);\n","import React, { Component } from 'react';\nimport {data} from '../mock/seat.json';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {addSeat, removeSeat} from '../actions';\n\n//设备独立像素\nconst SEAT_WIDTH = 50;\nconst SEAT_HEIGHT = 50;\n//设备像素比\nconst ratio = window.devicePixelRatio;\n//物理像素\nconst DRAW_SEAT_WIDTH = SEAT_WIDTH * ratio;\nconst DRAW_SEAT_HEIGHT = SEAT_HEIGHT * ratio;\n//获取最多有几行几列，模拟数据最大行列在最后一个数据里面，所以直接取值，如果数据不规则，需要遍历\nconst lastSeat = data[data.length - 1];\n//设备独立像素，canvas边框大小，“相框”大小\nconst CANVAS_WIDTH = lastSeat.colIndex * SEAT_WIDTH;\nconst CANVAS_HEIGHT = lastSeat.rowIndex * SEAT_HEIGHT;\n//物理像素，相当于画布大小\nconst DRAW_CANVAS_WIDTH = CANVAS_WIDTH * ratio;\nconst DRAW_CANVAS_HEIGHT = CANVAS_HEIGHT * ratio;\n\n\nclass SeatSelector extends Component {\n\n\tcomponentDidMount(){\n\t\t//初始化画布\n\t\tthis.ctx = this.refs.canvas.getContext('2d');\n\t\tthis.ctx.font = `${10 * ratio}px Arial`;\n\t\tthis.ctx.fillStyle = '#fff';\n\t\tthis.ctx.textAlign = 'center';\n\t\t//创建虚拟图片\n\t\tconst emptyImage = new Image();\n\t\tconst selectImage = new Image();\n\t\tconst soldImage = new Image();\n\t\tlet count = 0;\n\n\t\tconst loadCallback = () => {\n\t\t\tcount ++;\n\t\t\tif(count === 3){\n\t\t\t\tthis.emptyImage = emptyImage;\n\t\t\t\tthis.selectImage = selectImage;\n\t\t\t\tthis.soldImage = soldImage;\n\t\t\t\tthis.drawAllSeat();\n\t\t\t}\n\t\t};\n\n\t\temptyImage.onload = loadCallback;\n\t\tselectImage.onload = loadCallback;\n\t\tsoldImage.onload = loadCallback;\n\n\t\temptyImage.src = './source/seat-empty.png';\n\t\tselectImage.src = './source/seat-selected.png';\n    soldImage.src = './source/seat-sold.png';\n\t}\n\n\n\tcomponentDidUpdate(){\n\t\tthis.ctx.clearRect(0, 0, DRAW_CANVAS_WIDTH, DRAW_CANVAS_HEIGHT);\n\t\tthis.drawAllSeat();\n\t\tthis.drawSelectSeat();\n\t}\n\n\tdrawAllSeat = () => {\n\t\tconst len = data.length;\n\t\tfor(let i = 0; i < len; i ++){\n\t\t\tconst { isSold, xPos, yPos,} = data[i];\n      const offsetLeft = (xPos - 1) * DRAW_SEAT_WIDTH;\n\t\t\tconst offsetTop = (yPos - 1) * DRAW_SEAT_HEIGHT;\n\t\t\t//根据已售和空座绘制座位\n\t\t\tif(isSold){\n\t\t\t\tthis.ctx.drawImage(this.soldImage, offsetLeft, offsetTop, DRAW_SEAT_WIDTH, DRAW_SEAT_HEIGHT);\n\t\t\t}else{\n\t\t\t\tthis.ctx.drawImage(this.emptyImage, offsetLeft, offsetTop, DRAW_SEAT_WIDTH, DRAW_SEAT_HEIGHT);\n\n\t\t\t}\n\t\t}\n\t}\n\n\tdrawSelectSeat = () => {\n\t\tconst {selectSeat} = this.props;\n\t\tconst len = selectSeat.length;\n\t\tfor(let i = 0; i < len; i ++){\n\t\t\tconst {xPos, yPos, colIndex, rowIndex } = selectSeat[i];\n      const offsetLeft = (xPos - 1) * DRAW_SEAT_WIDTH;\n\t\t\tconst offsetTop = (yPos - 1) * DRAW_SEAT_HEIGHT;\n\t\t\tthis.ctx.drawImage(this.selectImage, offsetLeft, offsetTop, DRAW_SEAT_WIDTH, DRAW_SEAT_HEIGHT);\n\t\t\tthis.ctx.fillText(`${rowIndex}排`, offsetLeft + DRAW_SEAT_WIDTH / 2, offsetTop + DRAW_SEAT_HEIGHT / 2.5);\n\t\t\t\tthis.ctx.fillText(`${colIndex}座`, offsetLeft + DRAW_SEAT_WIDTH / 2, offsetTop + DRAW_SEAT_HEIGHT / 3 * 2);\n\t\t}\n\t}\n\n\tclickSeat = (e) => {\n\t\tconst offset = this.refs.canvas.getBoundingClientRect();\n\t\tconst offsetLeft = e.pageX - offset.left;\n\t\tconst offsetTop = e.pageY - offset.top;\n\t\tconst xPos = Math.ceil(offsetLeft / SEAT_WIDTH);\n\t\tconst yPos = Math.ceil(offsetTop / SEAT_HEIGHT);\n\n\t\t//根据点击找到对应座位的信息\n\t\tconst seat = data.find(item => item.xPos === xPos && item.yPos === yPos);\n\n\t\t//根据改点坐标是否有对应座位，如果有对应座位那么根据座位的是否售卖情况进行不同的处理\n\t\tif(!seat || seat.isSold){\n\t\t\treturn;\n\t\t}\n\n\t\tconst seatIndex = this.props.selectSeat.findIndex(item => item.id === seat.id);\n\t\tif(seatIndex !== -1){\n\t\t\t//已经选过了 取消选座\n\t\t\tthis.props.removeSeat(seat.id);\n\t\t}else{\n\t\t\t//没选过，添加到已选数组\n\t\t\tif(this.props.selectSeat.length >= 4){\n\t\t\t\talert('不能超过四个座位！');\n\t\t\t}else{\n\t\t\t\tthis.props.addSeat(seat);\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<canvas\n\t\t\t\t\tref=\"canvas\"\n\t\t\t\t\twidth={DRAW_CANVAS_WIDTH}\n\t\t\t\t\theight={DRAW_CANVAS_HEIGHT}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: CANVAS_WIDTH,\n\t\t\t\t\t\theight: CANVAS_HEIGHT\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tthis.clickSeat(e);\n\t\t\t\t\t}}\n\t\t\t\t></canvas>\n\t\t\t</div>\n\t\t);\n\t}\n}\nSeatSelector.propTypes = {\n\tselectSeat : PropTypes.array.isRequired,\n\tremoveSeat: PropTypes.func.isRequired,\n\taddSeat: PropTypes.func.isRequired,\n};\nconst mapStateToProps = state => {\n\treturn{\n\t\tselectSeat: state.selectSeat\n\t};\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\taddSeat: seat => {\n\t\t\tdispatch(addSeat(seat));\n\t\t},\n\t\tremoveSeat: id => {\n\t\t\tdispatch(removeSeat(id));\n\t\t}\n\t};\n};\nexport default connect (mapStateToProps, mapDispatchToProps)(SeatSelector);\n","import React, { Component } from 'react';\nimport './Index.scss';\n\nimport {Provider} from 'react-redux';\nimport {createStore} from 'redux';\nimport seatSelect from './reducers';\n\nimport MovieInfo from './components/MovieInfo';\nimport SeatSelected from './components/SeatSelected';\nimport SeatSelector from './components/SeatSelector';\n\n\nlet store = createStore(seatSelect);\nexport default class Index extends Component {\n\t// state = {\n\t// \tselectSeat: []\n\t// }\n\t// addSeat = (seat) =>{\n\t// \tthis.setState({\n\t// \t\tselectSeat: [\n\t// \t\t\t...this.state.selectSeat,\n\t// \t\t\tseat\n\t// \t\t]\n\t// \t});\n\t// }\n\t// removeSeat = (id) => {\n\t// \tthis.setState({\n\t// \t\tselectSeat: this.state.selectSeat.filter(item => item.id !== id)\n\t// \t});\n\t// }\n\trender() {\n\t\treturn (\n\t\t\t<Provider store={store}>\n\t\t\t\t<div className=\"seat\">\n\t\t\t\t\t<div className=\"tOperator\">\n\t\t\t\t\t\t\t<i className=\"tOperator__icon tOperator__icon--blackBack\" onClick={() => {\n\t\t\t\t\t\t\t\twindow.history.back();\n\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t万达影院\n\t\t\t\t\t\t\t<i className=\"tOperator__icon tOperator__icon--blackShare\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<MovieInfo></MovieInfo>\n\t\t\t\t\t<div className=\"seat__main\">\n\t\t\t\t\t\t\t<div className=\"seat__tip\" />\n\t\t\t\t\t\t\t<div className=\"seat__graph\">\n\t\t\t\t\t\t\t\t<div className=\"seat__screen\">B13屏幕</div>\n\t\t\t\t\t\t\t\t<div className=\"seat__map\"><SeatSelector/></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<SeatSelected></SeatSelected>\n\t\t\t\t</div>\n\t\t\t</Provider>\n\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport {BrowserRouter, Route, Switch, } from 'react-router-dom';\n// import logo from './logo.svg';\nimport './App.css';\nimport Home from './routes/home/Index';\nimport User from './routes/user/Index';\nimport Detail from './routes/detail/Index';\nimport Seat from './routes/seat/Index';\n\nclass App extends Component {\n  render() {\n    return (\n\t\t\t<BrowserRouter>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/\" exact component={Home}></Route>\n\t\t\t\t\t<Route path=\"/user\" exact component={User}></Route>\n\t\t\t\t\t<Route path=\"/detail\" exact component={Detail}></Route>\n\t\t\t\t\t<Route path=\"/seat\" exact component={Seat}></Route>\n\t\t\t\t</Switch>\n\t\t\t</BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './normalize.css';\nimport './common.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}